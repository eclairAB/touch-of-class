import{X as b,$ as T,ap as w,a0 as P,aD as I,r as q,j as p,aN as A,bv as E,H as C,bw as F,F as z,bx as B,by as D,aq as _,bz as k}from"./CxCi84D5.js";const Q=b({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),O=Symbol.for("vuetify:datatable:expanded");function U(t){const a=T(t,"expandOnClick"),r=w(t,"expanded",t.expanded,l=>new Set(l),l=>[...l.values()]);function e(l,s){const c=new Set(r.value);s?c.add(l.value):c.delete(l.value),r.value=c}function n(l){return r.value.has(l.value)}function f(l){e(l,!n(l))}const u={expand:e,expanded:r,expandOnClick:a,isExpanded:n,toggleExpand:f};return P(O,u),u}function Y(){const t=I(O);if(!t)throw new Error("foo");return t}const Z=b({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),R=Symbol.for("vuetify:data-table-group");function ee(t){return{groupBy:w(t,"groupBy")}}function te(t){const{disableSort:a,groupBy:r,sortBy:e}=t,n=q(new Set),f=p(()=>r.value.map(o=>({...o,order:o.order??!1})).concat(a!=null&&a.value?[]:e.value));function u(o){return n.value.has(o.id)}function l(o){const v=new Set(n.value);u(o)?v.delete(o.id):v.add(o.id),n.value=v}function s(o){function v(y){const S=[];for(const m of y.items)"type"in m&&m.type==="group"?S.push(...v(m)):S.push(m);return S}return v({type:"group",items:o,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:f,toggleGroup:l,opened:n,groupBy:r,extractRows:s,isGroupOpen:u};return P(R,c),c}function ae(){const t=I(R);if(!t)throw new Error("Missing group!");return t}function H(t,a){if(!t.length)return[];const r=new Map;for(const e of t){const n=A(e.raw,a);r.has(n)||r.set(n,[]),r.get(n).push(e)}return r}function V(t,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!a.length)return[];const n=H(t,a[0]),f=[],u=a.slice(1);return n.forEach((l,s)=>{const c=a[0],o=`${e}_${c}_${s}`;f.push({depth:r,id:o,key:c,value:s,items:u.length?V(l,u,r+1,o):l,type:"group"})}),f}function G(t,a){const r=[];for(const e of t)"type"in e&&e.type==="group"?(e.value!=null&&r.push(e),(a.has(e.id)||e.value==null)&&r.push(...G(e.items,a))):r.push(e);return r}function re(t,a,r){return{flatItems:p(()=>{if(!a.value.length)return t.value;const n=V(t.value,a.value.map(f=>f.key));return G(n,r.value)})}}function ne(t){let{page:a,itemsPerPage:r,sortBy:e,groupBy:n,search:f}=t;const u=E("VDataTable"),l=p(()=>({page:a.value,itemsPerPage:r.value,sortBy:e.value,groupBy:n.value,search:f.value}));let s=null;C(l,()=>{F(s,l.value)||(s&&s.search!==l.value.search&&(a.value=1),u.emit("update:options",l.value),s=l.value)},{deep:!0,immediate:!0})}const le=b({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),N=Symbol.for("vuetify:data-table-pagination");function ue(t){const a=w(t,"page",void 0,e=>+(e??1)),r=w(t,"itemsPerPage",void 0,e=>+(e??10));return{page:a,itemsPerPage:r}}function se(t){const{page:a,itemsPerPage:r,itemsLength:e}=t,n=p(()=>r.value===-1?0:r.value*(a.value-1)),f=p(()=>r.value===-1?e.value:Math.min(e.value,n.value+r.value)),u=p(()=>r.value===-1||e.value===0?1:Math.ceil(e.value/r.value));z(()=>{a.value>u.value&&(a.value=u.value)});function l(y){r.value=y,a.value=1}function s(){a.value=B(a.value+1,1,u.value)}function c(){a.value=B(a.value-1,1,u.value)}function o(y){a.value=B(y,1,u.value)}const v={page:a,itemsPerPage:r,startIndex:n,stopIndex:f,pageCount:u,itemsLength:e,nextPage:s,prevPage:c,setPage:o,setItemsPerPage:l};return P(N,v),v}function oe(){const t=I(N);if(!t)throw new Error("Missing pagination!");return t}function ce(t){const a=E("usePaginatedItems"),{items:r,startIndex:e,stopIndex:n,itemsPerPage:f}=t,u=p(()=>f.value<=0?r.value:r.value.slice(e.value,n.value));return C(u,l=>{a.emit("update:currentItems",l)}),{paginatedItems:u}}const W={showSelectAll:!1,allSelected:()=>[],select:t=>{var e;let{items:a,value:r}=t;return new Set(r?[(e=a[0])==null?void 0:e.value]:[])},selectAll:t=>{let{selected:a}=t;return a}},M={showSelectAll:!0,allSelected:t=>{let{currentPage:a}=t;return a},select:t=>{let{items:a,value:r,selected:e}=t;for(const n of a)r?e.add(n.value):e.delete(n.value);return e},selectAll:t=>{let{value:a,currentPage:r,selected:e}=t;return M.select({items:r,value:a,selected:e})}},j={showSelectAll:!0,allSelected:t=>{let{allItems:a}=t;return a},select:t=>{let{items:a,value:r,selected:e}=t;for(const n of a)r?e.add(n.value):e.delete(n.value);return e},selectAll:t=>{let{value:a,allItems:r,selected:e}=t;return j.select({items:r,value:a,selected:e})}},ie=b({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:F}},"DataTable-select"),K=Symbol.for("vuetify:data-table-selection");function de(t,a){let{allItems:r,currentPage:e}=a;const n=w(t,"modelValue",t.modelValue,i=>new Set(D(i).map(d=>{var x;return((x=r.value.find($=>t.valueComparator(d,$.value)))==null?void 0:x.value)??d})),i=>[...i.values()]),f=p(()=>r.value.filter(i=>i.selectable)),u=p(()=>e.value.filter(i=>i.selectable)),l=p(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return W;case"all":return j;case"page":default:return M}});function s(i){return D(i).every(d=>n.value.has(d.value))}function c(i){return D(i).some(d=>n.value.has(d.value))}function o(i,d){const x=l.value.select({items:i,value:d,selected:new Set(n.value)});n.value=x}function v(i){o([i],!s([i]))}function y(i){const d=l.value.selectAll({value:i,allItems:f.value,currentPage:u.value,selected:new Set(n.value)});n.value=d}const S=p(()=>n.value.size>0),m=p(()=>{const i=l.value.allSelected({allItems:f.value,currentPage:u.value});return!!i.length&&s(i)}),g=p(()=>l.value.showSelectAll),h={toggleSelect:v,select:o,selectAll:y,isSelected:s,isSomeSelected:c,someSelected:S,allSelected:m,showSelectAll:g};return P(K,h),h}function fe(){const t=I(K);if(!t)throw new Error("Missing selection!");return t}const ve=b({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),L=Symbol.for("vuetify:data-table-sort");function me(t){const a=w(t,"sortBy"),r=T(t,"mustSort"),e=T(t,"multiSort");return{sortBy:a,mustSort:r,multiSort:e}}function ge(t){const{sortBy:a,mustSort:r,multiSort:e,page:n}=t,f=s=>{if(s.key==null)return;let c=a.value.map(v=>({...v}))??[];const o=c.find(v=>v.key===s.key);o?o.order==="desc"?r.value?o.order="asc":c=c.filter(v=>v.key!==s.key):o.order="desc":e.value?c=[...c,{key:s.key,order:"asc"}]:c=[{key:s.key,order:"asc"}],a.value=c,n&&(n.value=1)};function u(s){return!!a.value.find(c=>c.key===s.key)}const l={sortBy:a,toggleSort:f,isSorted:u};return P(L,l),l}function ye(){const t=I(L);if(!t)throw new Error("Missing sort!");return t}function pe(t,a,r,e){const n=_();return{sortedItems:p(()=>{var u,l;return r.value.length?X(a.value,r.value,n.current.value,{transform:e==null?void 0:e.transform,sortFunctions:{...t.customKeySort,...(u=e==null?void 0:e.sortFunctions)==null?void 0:u.value},sortRawFunctions:(l=e==null?void 0:e.sortRawFunctions)==null?void 0:l.value}):a.value})}}function X(t,a,r,e){const n=new Intl.Collator(r,{sensitivity:"accent",usage:"sort"});return t.map(u=>[u,e!=null&&e.transform?e.transform(u):u]).sort((u,l)=>{var s,c;for(let o=0;o<a.length;o++){let v=!1;const y=a[o].key,S=a[o].order??"asc";if(S===!1)continue;let m=A(u[1],y),g=A(l[1],y),h=u[0].raw,i=l[0].raw;if(S==="desc"&&([m,g]=[g,m],[h,i]=[i,h]),(s=e==null?void 0:e.sortRawFunctions)!=null&&s[y]){const d=e.sortRawFunctions[y](h,i);if(d==null)continue;if(v=!0,d)return d}if((c=e==null?void 0:e.sortFunctions)!=null&&c[y]){const d=e.sortFunctions[y](m,g);if(d==null)continue;if(v=!0,d)return d}if(!v){if(m instanceof Date&&g instanceof Date)return m.getTime()-g.getTime();if([m,g]=[m,g].map(d=>d!=null?d.toString().toLocaleLowerCase():d),m!==g)return k(m)&&k(g)?0:k(m)?-1:k(g)?1:!isNaN(m)&&!isNaN(g)?Number(m)-Number(g):n.compare(m,g)}}return 0}).map(u=>{let[l]=u;return l})}export{me as a,ue as b,ee as c,te as d,se as e,de as f,U as g,ne as h,oe as i,ye as j,fe as k,ae as l,le as m,Y as n,Q as o,ge as p,Z as q,ie as r,ve as s,pe as t,re as u,ce as v};
