import{a as E,L as I,r as x,i as H,t as k,v as F,z as e,A as t,V as J,M as l,N,O as p,B as V,y as b,P as L,Q as W,R as K,S as X,x as a,T as O,U as R,W as G,a8 as se,a3 as ne,a9 as ie,aa as re,ab as ce}from"./CxCi84D5.js";import{u as B}from"./KKXyQTFi.js";import{V as T,a as Y}from"./CNL2HLNc.js";import{V as Z,a as M}from"./B_-zNqXP.js";import{V as q,a as P}from"./Dd-OUGDu.js";import{V as ee}from"./CXzoZ99M.js";import{V as te}from"./BSRGpNRQ.js";import{V as oe}from"./BJwYn0dg.js";import{V as de}from"./BJCQHK0s.js";import{V as ue,a as me,b as fe}from"./UVcE-Koj.js";import"./DllL5wLp.js";const pe={class:"text-center"},ve={__name:"PackageDialog",emits:["exitDialog"],setup(j,{emit:A}){const{$api:c}=E(),u=B(),s=I(),v=A,o=x({}),i=x(!1),C=x(!0),d=x(!1);function $(){C.value?h():n()}function y(){u.package.payload?(o.value=u.package.payload,C.value=!1):(o.value={},C.value=!0)}function m(){v("exitDialog"),d.value=!1,u.setPackage({dialog:!1})}function S(){d.value?w():d.value=!0}const h=async()=>{try{const f=await c.post("/packages/",o.value);s.setAlert({show:!0,color:"success",content:"New Package Created!"}),m()}catch{s.setAlert({show:!0,color:"error",content:"Failed to create Package."})}},n=async()=>{try{const f=await c.put(`/packages/${o.value.id}`,o.value);s.setAlert({show:!0,color:"success",content:"Package Updated!"}),m()}catch{s.setAlert({show:!0,color:"error",content:"Failed to Update Package."})}},w=async()=>{try{const f=await c.delete(`/packages/${o.value.id}`);s.setAlert({show:!0,color:"success",content:"Package Deleted!"}),d.value=!1,m()}catch{s.setAlert({show:!0,color:"error",content:"Failed to Delete Package."}),d.value=!1}};return(f,r)=>{const _=H("v-number-input");return k(),F("div",pe,[e(X,{modelValue:l(u).package.dialog,"onUpdate:modelValue":r[5]||(r[5]=D=>l(u).package.dialog=D),width:"auto",onAfterEnter:y,onAfterLeave:m},{default:t(()=>[e(J,{class:"px-5 pb-4",width:"700","max-width":"700","prepend-icon":"mdi-package-variant-closed",text:"",title:"Package Information",flat:""},{actions:t(()=>[l(C)?L("",!0):(k(),N(p,{key:0,class:"text-none",color:"red",size:"large",onClick:S,variant:"tonal"},{default:t(()=>[V(b(l(d)?"Click again to confirm":"Delete Package"),1)]),_:1})),e(T),e(p,{class:"text-none",color:"red",size:"large",onClick:m,variant:"tonal"},{default:t(()=>[V(" Close ")]),_:1}),e(p,{class:"text-none",color:"blue",size:"large",onClick:$,variant:"tonal"},{default:t(()=>[V(" Submit ")]),_:1})]),default:t(()=>[e(Z,{modelValue:l(i),"onUpdate:modelValue":r[4]||(r[4]=D=>W(i)?i.value=D:null)},{default:t(()=>[e(Y,null,{default:t(()=>[e(q,null,{default:t(()=>[e(P,{cols:"12",md:"6"},{default:t(()=>[e(K,{modelValue:l(o).name,"onUpdate:modelValue":r[0]||(r[0]=D=>l(o).name=D),counter:10,label:"Package Name","hide-details":"",variant:"outlined",required:""},null,8,["modelValue"])]),_:1}),e(P,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l(o).sessions,"onUpdate:modelValue":r[1]||(r[1]=D=>l(o).sessions=D),counter:10,label:"Sessions","hide-details":"",variant:"outlined",required:"",min:"0"},null,8,["modelValue"])]),_:1}),e(P,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l(o).commission_percentage,"onUpdate:modelValue":r[2]||(r[2]=D=>l(o).commission_percentage=D),label:"Commission Percentage","hide-details":"",variant:"outlined",required:"",min:"0"},null,8,["modelValue"])]),_:1}),e(P,{cols:"12",md:"6"},{default:t(()=>[e(_,{modelValue:l(o).price,"onUpdate:modelValue":r[3]||(r[3]=D=>l(o).price=D),label:"Price","hide-details":"",variant:"outlined",required:"",min:"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])}}},_e={class:"text-h4 font-weight-bold d-flex justify-space-between mb-4 align-center"},ge=a("div",{class:"text-truncate"},"Packages",-1),be={class:"d-flex align-center"},he=a("span",{class:"text-decoration-underline text-none"},"See all",-1),xe={class:"d-inline-flex"},ke={class:"text-h6"},Ce={align:"right"},we=a("th",null,"Total Sessions:",-1),Ve={align:"right"},ye=a("th",null,"Stylist Commission:",-1),Se={align:"right"},De=a("th",null,"Price:",-1),$e={__name:"PackageTab",setup(j){const{$api:A}=E(),c=B(),u=I(),s=x(4),v=x([]),o=()=>{s.value=s.value===4?v.value.length:4},i=async()=>{try{const y=await A.get("/packages/");v.value=y.data}catch{u.setAlert({show:!0,color:"error",content:"Failed to fetch Packages."})}};i();function C(y){c.setPackage({dialog:!0,payload:y})}function d(){c.setPackage({dialog:!0})}function $(){i()}return(y,m)=>{const S=ve;return k(),F("div",null,[e(oe,{class:"px-5",items:l(v),"items-per-page":l(s)},{header:t(({page:h,pageCount:n,prevPage:w,nextPage:f})=>[a("h1",_e,[ge,e(p,{class:"text-none ml-10",size:"large",onClick:m[0]||(m[0]=r=>d()),variant:"tonal"},{default:t(()=>[V(" Add Package ")]),_:1}),e(T),a("div",be,[e(p,{class:"me-8",variant:"text",onClick:o},{default:t(()=>[he]),_:1}),a("div",xe,[e(p,{disabled:h===1,class:"me-2",icon:"mdi-arrow-left",size:"small",variant:"tonal",onClick:w},null,8,["disabled","onClick"]),e(p,{disabled:h===n,icon:"mdi-arrow-right",size:"small",variant:"tonal",onClick:f},null,8,["disabled","onClick"])])])])]),default:t(({items:h})=>[e(q,null,{default:t(()=>[(k(!0),F(O,null,R(h,(n,w)=>(k(),N(P,{key:w,cols:"12",sm:"6",xl:"3"},{default:t(()=>[e(M,{border:""},{default:t(()=>[e(G,{title:"Name",density:"comfortable",lines:"two"},{title:t(()=>[a("strong",ke,[V(b(n.raw.name)+" ",1),e(p,{flat:"",color:"blue-lighten-5",class:"text-none ml-1 mb-1",onClick:f=>C(n.raw),density:"comfortable",size:"small",icon:"mdi-pencil"},null,8,["onClick"])])]),_:2},1024),e(ee,{class:"text-caption",density:"compact"},{default:t(()=>[a("tbody",null,[a("tr",Ce,[we,a("td",null,b(n.raw.sessions||0),1)]),a("tr",Ve,[ye,a("td",null,b(n.raw.sessions||0)+"%",1)]),a("tr",Se,[De,a("td",null,"₱ "+b(n.raw.price||0),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),footer:t(({page:h,pageCount:n})=>[e(te,{class:"justify-space-between text-body-2 mt-4",color:"surface-variant"},{default:t(()=>[V(" Total packages: "+b(l(v).length)+" ",1),a("div",null,"Page "+b(h)+" of "+b(n),1)]),_:2},1024)]),_:1},8,["items","items-per-page"]),e(S,{onExitDialog:$})])}}},Pe={class:"text-center"},Ae={__name:"ComboDialog",emits:["exitDialog"],setup(j,{emit:A}){const{$api:c}=E(),u=B(),s=I(),v=A,o=x({}),i=x(!1),C=x(!0),d=x(!1),$=x({}),y=()=>{const g=o.value.combo_services;let U=[];g.map(Q=>{U.push(Q.service_id)}),o.value.services=U},m=()=>o.value.readonly===!0;function S(){C.value?f():r()}function h(){u.combo.payload?(o.value=u.combo.payload,C.value=!1):(o.value={},C.value=!0),y()}function n(){v("exitDialog"),d.value=!1,u.setCombo({dialog:!1})}function w(){d.value?_():d.value=!0}const f=async()=>{try{const g=await c.post("/combos/",o.value);s.setAlert({show:!0,color:"success",content:"New Combo Created!"}),n()}catch{s.setAlert({show:!0,color:"error",content:"Failed to create Combo."})}},r=async()=>{try{const g=await c.put(`/combos/${o.value.id}`,o.value);s.setAlert({show:!0,color:"success",content:"Combo Updated!"}),n()}catch{s.setAlert({show:!0,color:"error",content:"Failed to Update Combo."})}},_=async()=>{try{const g=await c.delete(`/combos/${o.value.id}`);s.setAlert({show:!0,color:"success",content:"Combo Deleted!"}),d.value=!1,n()}catch{s.setAlert({show:!0,color:"error",content:"Failed to Delete Combo."}),d.value=!1}};return(async()=>{try{const g=await c.get("/services/");$.value=g.data}catch{s.setClient({show:!0,color:"error",content:"Failed to fetch Services."})}})(),(g,U)=>{const Q=H("v-number-input");return k(),F("div",Pe,[e(X,{modelValue:l(u).combo.dialog,"onUpdate:modelValue":U[4]||(U[4]=z=>l(u).combo.dialog=z),width:"auto",onAfterEnter:h,onAfterLeave:n},{default:t(()=>[e(J,{class:"px-5 pb-4",width:"700","max-width":"700","prepend-icon":"mdi-shopping",text:"",title:"Combo Information",flat:""},{actions:t(()=>[!l(C)&&!m()?(k(),N(p,{key:0,class:"text-none",color:"red",size:"large",onClick:w,variant:"tonal"},{default:t(()=>[V(b(l(d)?"Click again to confirm":"Delete Combo"),1)]),_:1})):L("",!0),e(T),e(p,{class:"text-none",color:"red",size:"large",onClick:n,variant:"tonal"},{default:t(()=>[V(" Close ")]),_:1}),m()?L("",!0):(k(),N(p,{key:1,class:"text-none",color:"blue",size:"large",onClick:S,variant:"tonal"},{default:t(()=>[V(" Submit ")]),_:1}))]),default:t(()=>[e(Z,{modelValue:l(i),"onUpdate:modelValue":U[3]||(U[3]=z=>W(i)?i.value=z:null),readonly:m()},{default:t(()=>[e(Y,null,{default:t(()=>[e(q,null,{default:t(()=>[e(P,{cols:"12",md:"12"},{default:t(()=>[e(K,{modelValue:l(o).name,"onUpdate:modelValue":U[0]||(U[0]=z=>l(o).name=z),counter:10,label:"Combo Name","hide-details":"",variant:"outlined",required:""},null,8,["modelValue"])]),_:1}),e(P,{cols:"12",md:"12"},{default:t(()=>[e(se,{modelValue:l(o).services,"onUpdate:modelValue":U[1]||(U[1]=z=>l(o).services=z),"item-value":"id","item-title":"name",items:l($),chips:"","closable-chips":"true",multiple:"",label:"Select Services",variant:"outlined",clearable:""},{item:t(({props:z,item:le})=>[e(G,ne(z,{title:le.raw.name,subtitle:"₱ "+le.raw.price}),null,16,["title","subtitle"])]),_:1},8,["modelValue","items"])]),_:1}),e(P,{cols:"12",md:"12"},{default:t(()=>[e(Q,{modelValue:l(o).price,"onUpdate:modelValue":U[2]||(U[2]=z=>l(o).price=z),label:"Price","hide-details":"",variant:"outlined",required:"",min:"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","readonly"])]),_:1})]),_:1},8,["modelValue"])])}}},Ue={class:"text-center"},ae={__name:"ServiceDialog",emits:["exitDialog"],setup(j,{emit:A}){const{$api:c}=E(),u=B(),s=I(),v=A,o=x({}),i=x(!1),C=x(!0),d=x(!1),$=()=>o.value.readonly===!0;function y(){C.value?n():w()}function m(){u.service.payload?(o.value=u.service.payload,C.value=!1):(o.value={},C.value=!0)}function S(){v("exitDialog"),d.value=!1,u.setService({dialog:!1})}function h(){d.value?f():d.value=!0}const n=async()=>{try{const r=await c.post("/services/",o.value);s.setAlert({show:!0,color:"success",content:"New Service Created!"}),S()}catch{s.setAlert({show:!0,color:"error",content:"Failed to create Service."})}},w=async()=>{try{const r=await c.put(`/services/${o.value.id}`,o.value);s.setAlert({show:!0,color:"success",content:"Service Updated!"}),S()}catch{s.setAlert({show:!0,color:"error",content:"Failed to Update Service."})}},f=async()=>{try{const r=await c.delete(`/services/${o.value.id}`);s.setAlert({show:!0,color:"success",content:"Service Deleted!"}),d.value=!1,S()}catch{s.setAlert({show:!0,color:"error",content:"Failed to Delete Service."}),d.value=!1}};return(r,_)=>{const D=H("v-number-input");return k(),F("div",Ue,[e(X,{modelValue:l(u).service.dialog,"onUpdate:modelValue":_[4]||(_[4]=g=>l(u).service.dialog=g),width:"auto",onAfterEnter:m,onAfterLeave:S},{default:t(()=>[e(J,{class:"px-5 pb-4",width:"700","max-width":"700","prepend-icon":"mdi-shopping",text:"",title:"Service Information",flat:""},{actions:t(()=>[!l(C)&&!$()?(k(),N(p,{key:0,class:"text-none",color:"red",size:"large",onClick:h,variant:"tonal"},{default:t(()=>[V(b(l(d)?"Click again to confirm":"Delete Service"),1)]),_:1})):L("",!0),e(T),e(p,{class:"text-none",color:"red",size:"large",onClick:S,variant:"tonal"},{default:t(()=>[V(" Close ")]),_:1}),$()?L("",!0):(k(),N(p,{key:1,class:"text-none",color:"blue",size:"large",onClick:y,variant:"tonal"},{default:t(()=>[V(" Submit ")]),_:1}))]),default:t(()=>[e(Z,{modelValue:l(i),"onUpdate:modelValue":_[3]||(_[3]=g=>W(i)?i.value=g:null),readonly:$()},{default:t(()=>[e(Y,null,{default:t(()=>[e(q,null,{default:t(()=>[e(P,{cols:"12",md:"12"},{default:t(()=>[e(K,{modelValue:l(o).name,"onUpdate:modelValue":_[0]||(_[0]=g=>l(o).name=g),counter:10,label:"Service Name","hide-details":"",variant:"outlined",required:""},null,8,["modelValue"])]),_:1}),e(P,{cols:"12",md:"6"},{default:t(()=>[e(D,{modelValue:l(o).commission_percentage,"onUpdate:modelValue":_[1]||(_[1]=g=>l(o).commission_percentage=g),label:"Commission Percentage","hide-details":"",variant:"outlined",required:"",min:"0"},null,8,["modelValue"])]),_:1}),e(P,{cols:"12",md:"6"},{default:t(()=>[e(D,{modelValue:l(o).price,"onUpdate:modelValue":_[2]||(_[2]=g=>l(o).price=g),label:"Price","hide-details":"",variant:"outlined",required:"",min:"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","readonly"])]),_:1})]),_:1},8,["modelValue"])])}}},ze={class:"text-h4 font-weight-bold d-flex justify-space-between mb-4 align-center"},Fe=a("div",{class:"text-truncate"},"Combos",-1),Ne={class:"d-flex align-center"},Te=a("span",{class:"text-decoration-underline text-none"},"See all",-1),qe={class:"d-inline-flex"},je={class:"text-h6"},Ee={align:"right"},Ie=a("th",null,"Services:",-1),Be={align:"right"},Le=a("th",null,"Price:",-1),Oe={__name:"ComboTab",setup(j){const{$api:A}=E(),c=B(),u=I(),s=x(4),v=x([]),o=()=>{s.value=s.value===4?v.value.length:4},i=async()=>{try{const m=await A.get("/combos/");v.value=m.data}catch{u.setClient({show:!0,color:"error",content:"Failed to fetch Combos."})}};i();function C(m){c.setCombo({dialog:!0,payload:m})}function d(){c.setCombo({dialog:!0})}function $(){i()}function y(m){let S=m.service;S.readonly=!0,c.setService({dialog:!0,payload:S})}return(m,S)=>{const h=Ae,n=ae;return k(),F("div",null,[e(oe,{class:"px-5",items:l(v),"items-per-page":l(s)},{header:t(({page:w,pageCount:f,prevPage:r,nextPage:_})=>[a("h1",ze,[Fe,e(p,{class:"text-none ml-10",size:"large",onClick:S[0]||(S[0]=D=>d()),variant:"tonal"},{default:t(()=>[V(" Add Combo ")]),_:1}),e(T),a("div",Ne,[e(p,{class:"me-8",variant:"text",onClick:o},{default:t(()=>[Te]),_:1}),a("div",qe,[e(p,{disabled:w===1,class:"me-2",icon:"mdi-arrow-left",size:"small",variant:"tonal",onClick:r},null,8,["disabled","onClick"]),e(p,{disabled:w===f,icon:"mdi-arrow-right",size:"small",variant:"tonal",onClick:_},null,8,["disabled","onClick"])])])])]),default:t(({items:w})=>[e(q,null,{default:t(()=>[(k(!0),F(O,null,R(w,(f,r)=>(k(),N(P,{key:r,cols:"12",sm:"6",xl:"3"},{default:t(()=>[e(M,{border:""},{default:t(()=>[e(G,{title:"Name",density:"comfortable",lines:"two"},{title:t(()=>[a("strong",je,[V(b(f.raw.name)+" ",1),e(p,{flat:"",color:"blue-lighten-5",class:"text-none ml-1 mb-1",onClick:_=>C(f.raw),density:"comfortable",size:"small",icon:"mdi-pencil"},null,8,["onClick"])])]),_:2},1024),e(ee,{class:"text-caption",density:"compact"},{default:t(()=>[a("tbody",null,[a("tr",Ee,[Ie,a("td",null,[e(ie,null,{default:t(()=>[e(T),(k(!0),F(O,null,R(f.raw.combo_services,(_,D)=>(k(),N(re,{key:D,size:"small",onClick:g=>y(_)},{default:t(()=>[V(b(_.service.name)+" ",1),e(de,{activator:"parent",location:"top"},{default:t(()=>[V(" Click to preview ")]),_:1})]),_:2},1032,["onClick"]))),128))]),_:2},1024)])]),a("tr",Be,[Le,a("td",null,"₱ "+b(f.raw.price||0),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),footer:t(({page:w,pageCount:f})=>[e(te,{class:"justify-space-between text-body-2 mt-4",color:"surface-variant"},{default:t(()=>[V(" Total combos: "+b(l(v).length)+" ",1),a("div",null,"Page "+b(w)+" of "+b(f),1)]),_:2},1024)]),_:1},8,["items","items-per-page"]),e(h,{onExitDialog:$}),e(n,{onExitDialog:$})])}}},Re={class:"text-h4 font-weight-bold d-flex justify-space-between mb-4 align-center"},We=a("div",{class:"text-truncate"},"Services",-1),Ge={class:"d-flex align-center"},Me=a("span",{class:"text-decoration-underline text-none"},"See all",-1),Qe={class:"d-inline-flex"},He={class:"text-h6"},Je={align:"right"},Ke=a("th",null,"Stylist Commission:",-1),Xe={align:"right"},Ye=a("th",null,"Price:",-1),Ze={__name:"ServiceTab",setup(j){const{$api:A}=E(),c=B(),u=I(),s=x(4),v=x([]),o=()=>{s.value=s.value===4?v.value.length:4},i=async()=>{try{const y=await A.get("/services/");v.value=y.data}catch{u.setClient({show:!0,color:"error",content:"Failed to fetch Services."})}};i();function C(y){c.setService({dialog:!0,payload:y})}function d(){c.setService({dialog:!0})}function $(){i()}return(y,m)=>{const S=ae;return k(),F("div",null,[e(oe,{class:"px-5",items:l(v),"items-per-page":l(s)},{header:t(({page:h,pageCount:n,prevPage:w,nextPage:f})=>[a("h1",Re,[We,e(p,{class:"text-none ml-10",size:"large",onClick:m[0]||(m[0]=r=>d()),variant:"tonal"},{default:t(()=>[V(" Add Service ")]),_:1}),e(T),a("div",Ge,[e(p,{class:"me-8",variant:"text",onClick:o},{default:t(()=>[Me]),_:1}),a("div",Qe,[e(p,{disabled:h===1,class:"me-2",icon:"mdi-arrow-left",size:"small",variant:"tonal",onClick:w},null,8,["disabled","onClick"]),e(p,{disabled:h===n,icon:"mdi-arrow-right",size:"small",variant:"tonal",onClick:f},null,8,["disabled","onClick"])])])])]),default:t(({items:h})=>[e(q,null,{default:t(()=>[(k(!0),F(O,null,R(h,(n,w)=>(k(),N(P,{key:w,cols:"12",sm:"6",xl:"3"},{default:t(()=>[e(M,{border:""},{default:t(()=>[e(G,{title:"Name",density:"comfortable",lines:"two"},{title:t(()=>[a("strong",He,[V(b(n.raw.name)+" ",1),e(p,{flat:"",color:"blue-lighten-5",class:"text-none ml-1 mb-1",onClick:f=>C(n.raw),density:"comfortable",size:"small",icon:"mdi-pencil"},null,8,["onClick"])])]),_:2},1024),e(ee,{class:"text-caption",density:"compact"},{default:t(()=>[a("tbody",null,[a("tr",Je,[Ke,a("td",null,b(n.raw.commission_percentage||0)+"%",1)]),a("tr",Xe,[Ye,a("td",null,"₱ "+b(n.raw.price||0),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),footer:t(({page:h,pageCount:n})=>[e(te,{class:"justify-space-between text-body-2 mt-4",color:"surface-variant"},{default:t(()=>[V(" Total services: "+b(l(v).length)+" ",1),a("div",null,"Page "+b(h)+" of "+b(n),1)]),_:2},1024)]),_:1},8,["items","items-per-page"]),e(S,{onExitDialog:$})])}}},et={class:"w-100 h-100 d-flex justify-center align-center px-10"},mt={__name:"products",setup(j){const A={package:$e,combo:Oe,service:Ze},c=x("tab-1"),u=x([{icon:"mdi-package-variant-closed",text:"Packages",value:"tab-1",component:"package"},{icon:"mdi-shopping",text:"Combo",value:"tab-2",component:"combo"},{icon:"mdi-shopping",text:"Services",value:"tab-3",component:"service"}]);function s(v){return A[v]}return(v,o)=>(k(),F("div",et,[e(P,null,{default:t(()=>[e(q,{class:"mx-10 px-10 ga-5 d-flex justify-center align-center"},{default:t(()=>[e(M,{color:"orange-lighten-4",border:"",rounded:"lg",class:"w-75"},{default:t(()=>[e(ue,{modelValue:l(c),"onUpdate:modelValue":o[0]||(o[0]=i=>W(c)?c.value=i:null),items:l(u),"align-tabs":"center",color:"orange-darken-1",height:"60","slider-color":"#f78166"},{tab:t(({item:i})=>[e(me,{"prepend-icon":i.icon,text:i.text,value:i.value,class:"text-none"},null,8,["prepend-icon","text","value"])]),item:t(({item:i})=>[e(fe,{value:i.value,class:"pa-4"},{default:t(()=>[(k(),N(ce(s(i.component))))]),_:2},1032,["value"])]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]))}};export{mt as default};
